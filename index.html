<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vida Saud√°vel PRO</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
--bg:#121212;
--card:#1e1e1e;
--green:#00c853;
--text:#ffffff;
}
body{margin:0;font-family:Arial;background:var(--bg);color:var(--text)}
header{background:var(--green);padding:15px;text-align:center;font-size:20px}
nav{display:flex;background:#000}
nav button{flex:1;padding:12px;background:#000;color:white;border:none;font-size:16px}
section{display:none;padding:15px}
section.active{display:block}
.card{background:var(--card);padding:12px;border-radius:10px;margin:10px 0}
input,select{width:100%;padding:10px;margin:5px 0;border:none;border-radius:5px}
button{padding:10px;border:none;border-radius:6px;margin-top:5px;background:var(--green);color:white}
ul{padding:0}
li{list-style:none;background:#2a2a2a;margin:5px 0;padding:8px;border-radius:6px}
.smallbtn{padding:5px 8px;margin-left:5px;font-size:12px}
</style>
</head>

<body>

<header>Vida Saud√°vel PRO</header>

<div id="loginTela" class="card">
<h3>Entrar</h3>
<input id="nomeUser" placeholder="Seu nome">
<button onclick="login()">Entrar</button>
</div>

<div id="app" style="display:none">

<nav>
<button onclick="showTab('refeicao')">üçΩ</button>
<button onclick="showTab('dieta')">üìä</button>
<button onclick="showTab('treino')">üèã</button>
<button onclick="showTab('peso')">‚öñ</button>
<button onclick="showTab('lembrete')">‚è∞</button>
</nav>

<section id="refeicao" class="active">
<div class="card">
<select id="alimento"></select>
<input type="number" id="quantidade" placeholder="Quantidade (g)">
<button onclick="addComida()">Adicionar</button>
<ul id="listaComidas"></ul>
<h3 id="totalRefeicao"></h3>
</div>
</section>

<section id="dieta">
<div class="card">
<input type="number" id="pesoIMC" placeholder="Peso">
<input type="number" id="alturaIMC" placeholder="Altura">
<button onclick="gerarDieta()">Gerar Dieta</button>
<div id="dietaResultado"></div>
</div>
</section>

<section id="treino">
<div class="card">
<ul id="listaTreino"></ul>
</div>
</section>

<section id="peso">
<div class="card">
<input type="number" id="novoPeso" placeholder="Novo peso">
<button onclick="salvarPeso()">Salvar</button>
<canvas id="graficoPeso"></canvas>
</div>
</section>

<section id="lembrete">
<div class="card">
<input type="number" id="minutos" placeholder="Intervalo em minutos">
<button onclick="iniciarLembrete()">Ativar</button>
</div>
</section>

</div>

<script>
document.addEventListener("DOMContentLoaded", function(){

/* LOGIN */
if(localStorage.getItem("user")){
loginTela.style.display="none";
app.style.display="block";
}
window.login=function(){
localStorage.setItem("user",nomeUser.value);
loginTela.style.display="none";
app.style.display="block";
}

/* ABAS */
window.showTab=id=>{
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

/* ALIMENTOS */
const alimentos={
"Arroz":130,"Feij√£o":77,"Frango":165,"Carne":250,"Ovo":155,
"Macarr√£o":158,"Banana":89,"Ma√ß√£":52,"Leite":42,"Aveia":389,
"Batata":86,"Peixe":206,"P√£o":265
};
for(let a in alimentos){let o=document.createElement("option");o.text=a;alimento.add(o);}

/* REFEI√á√ïES */
let refeicoes=JSON.parse(localStorage.getItem("refeicoes")||"[]");
function salvarR(){localStorage.setItem("refeicoes",JSON.stringify(refeicoes));}
window.addComida=function(){
let qtd=quantidade.value;
let cal=(alimentos[alimento.value]*qtd)/100;
refeicoes.push({comida:alimento.value,qtd,cal});
salvarR();renderR();
}
window.delComida=i=>{refeicoes.splice(i,1);salvarR();renderR();}
window.editarComida=i=>{
let n=prompt("Nova qtd:",refeicoes[i].qtd);
if(!n)return;
refeicoes[i].qtd=n;
refeicoes[i].cal=(alimentos[refeicoes[i].comida]*n)/100;
salvarR();renderR();
}
function renderR(){
listaComidas.innerHTML="";let t=0;
refeicoes.forEach((r,i)=>{
t+=r.cal;
listaComidas.innerHTML+=`<li>${r.comida} ${r.qtd}g ${r.cal.toFixed(1)}kcal
<button class="smallbtn" onclick="editarComida(${i})">‚úèÔ∏è</button>
<button class="smallbtn" onclick="delComida(${i})">‚ùå</button></li>`;
});
totalRefeicao.innerText="Total: "+t.toFixed(1)+" kcal";
}
renderR();

/* DIETA */
window.gerarDieta=function(){
let imc=pesoIMC.value/(alturaIMC.value*alturaIMC.value);
let cal=imc<18?2500:imc<25?2000:1600;
dietaResultado.innerHTML="IMC "+imc.toFixed(1)+"<br>Calorias "+cal;
}

/* TREINO */
let treino=["Seg: Pernas","Ter: Peito","Qua: Costas","Qui: Ombro","Sex: Bra√ßos"];
listaTreino.innerHTML=treino.map(t=>"<li>"+t+"</li>").join("");

/* PESO */
let pesos=JSON.parse(localStorage.getItem("pesos")||[]);
window.salvarPeso=function(){pesos.push(novoPeso.value);localStorage.setItem("pesos",JSON.stringify(pesos));grafico.update();}
const grafico=new Chart(graficoPeso,{type:'line',data:{labels:pesos.map((_,i)=>i+1),datasets:[{label:'Peso',data:pesos}]}});

/* LEMBRETES */
let inter;
window.iniciarLembrete=function(){
Notification.requestPermission().then(()=>{
clearInterval(inter);
inter=setInterval(()=>new Notification("Hora de cuidar da sa√∫de!"),minutos.value*60000);
});
}

});
</script>

</body>
</html>
